# dzhcrm

v1.0.6
- 修改在order里面获取userList，不在config启动里面获取


### 1.0.5
- 修复子订单域名显示和续费日期逻辑

### 1.0.4
- 修复角色权限问题
- 初始化数据更新
- 增加版本控制和获取版本接口
- 增加插件市场
- 修复登录失败没有报错
- 修复添加用户失败
- 修复新增角色，角色表写入失败
- 增加service的where条件支持元素长度为1的传入
- 兼容go1.21的包引入
- 更新默认菜单顺序，任务管理和字典管理并入系统管理

### v1.0.3
- 前端：修改table不显示border

### v1.0.3
- 前端：更新菜单编辑 路由缓存按钮不显示
- 后端：修复定时任务发送邮件
- 前后端：迁移系统设置的配置文件为base模块里面
- 后端：修复后端保存用户时，角色权限问题

### v1.0.2
- 后端：为了后期用户自增数据生成的id不要和初始数据的id冲突，自增id修改为雪花id
- 后端：更改为分层模式，主逻辑在internal，插件移动到addons


### v1.0.1

- 前端：修复订单追加域名的时候，当域名为空的时候，追加会带有空行的问题，域名添加正则去除尾缀带有 斜杠 /
- 前端：修改A订单追加域名后，会影响B订单编辑保存后，会删改B订单的域名
- 前后端：订单追加域名，新域名在前面
- 前端：订单字段，客户和渠道显示，如果公司名不存在，不显示null，直接显示客户名称
- 前后端：订单列表增加查看全部子订单，增加高级搜索查询最近订单
- 前端：订单列表获取后台所以会员列表数据改为在组件config中每次组件加载自动获取，页面通过钩子调用
- 前端：据续费时间判断，过期的时间为红色
- 前后端：修复域名更新的问题
- 前端：更新UI


### v0.4.4

* 项目跟踪订单编辑权限除了admin外，都不可编辑
* 发票上传类型改成文件


### 202305280255 v0.1

1、完成基本目录架构

### 202305280255 v0.2

1、完成首页模板绑定

### 202305280255 v0.3

1、完成订单的子订单列表

### 202305280255 v0.4

1、完成订单的财务列表

### 202305280255 v0.4.1

1、完成订单的跟踪列表和反馈

### 202305280255 v0.4.2

1、完成订单的反馈的文件上传到oss

### v0.4.3

1、完成跟踪订单和反馈订单
2、订单搜索功能
3、财务合计功能

### 202306081810

1、上线测试，修复一些 bug 和完善

### 202306101438

1、修复一些 bug，增加数据权限

### 20230611

1、增加定时邮件发送
2、增加订单需求上传，发票上传，合同上传
3、域名增加域名商下拉选择，实名信息上传，注册时间和到期时间
4、修改上传文件名增加时间

### 20230612

1、迁移数据
2、修复一些问题

### v1.0.0

1、完善上线

### 20230614
1、修改订单的到期逻辑，子订单续费添加，延长主订单续费时间
2、除了超管，其他角色隐藏字典
3、域名子订单添加，域名自动添加到主订单域名
4、写入域名表，先验证重复
5、删除子订单域名，域名列表也要删除，主订单域名也要删除

### 20230615
1、修改定时任务条件，只搜索主订单和域名列表到期
2、域名列表显示到期时间
3、域名列表删除域名，也同步删除项目列表这边的数据
4、区分删除主订单和子订单时，操作域名列表
5、子订单写入域名表，只验证该主订单下的域名不重复
6、修改子订单域名，要考虑其他子订单域名数据，再同步主订单的子域名
7、域名列表删除单个子订单的域名，主订单的子域名数据出错


### 20230617
1、主订单域名添加多个，域名列表那边数据不同步
2、域名验证重复修复
3、删除主订单，看不到子订单了，然后域名订单里删除子域名，报错的问题
4、删除主订单，同步删除子订单，同步域名列表这边删除子订单的域名
5、域名列表新增和修改域名，同步域名列表的数据和父订单域名数据


## 20230621

1、修复子订单提交续费报错
2、订单增加续费价格字段

有新的跟踪处理和反馈，右上角要有提醒

## 使用

```

yarn
yarn dev

```